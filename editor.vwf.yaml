# The Mars educational game content Editor created for ADL's True Game-based learning project
--- 
extends: http://vwf.example.com/scene.vwf
properties:
  backgroundColor: [ 10, 20, 30 ]
  ambientColor: [ 255, 255, 255 ]
children:
  graph:
    extends: http://vwf.example.com/graphtool/graph.vwf
    properties:
      graphScale: 3
      gridInterval: 1
      gridLineInterval: 10
      gridLength: 100
      xAxisVisible: true
      yAxisVisible: true
      zAxisVisible: true
      gridVisible: true
      axisOpacity: 1
      gridOpacity: 0.5
      renderTop: false
      tileVisible: true
    methods:
      toggleTileVisibility: |
        this.tileVisible = !this.tileVisible;
        for ( var tile in this.children ) {
          this.children[ tile ].visible = this.tileVisible;
        }
  grid:
    extends: source/grid.vwf
    properties:
      minX: 0
      maxX: 30
      minY: 0
      maxY: 30
      gridOriginInSpace: []
      gridSquareLength: 3
      boundaryValues: []
    scripts: |
      this.initialize = function() {
        var xlen = this.maxX - this.minX;
        var ylen = this.maxY - this.minY;
        this.gridOriginInSpace = [
          Math.floor( -xlen / 2 * this.gridSquareLength ),
          Math.floor( -ylen / 2 * this.gridSquareLength )
        ];
        for ( var x = 0; x < this.maxX - this.minX; x++ ) {
          this.boundaryValues.push( new Array() );
          for ( var y = 0; y < this.maxY - this.minY; y++ ) {
            this.boundaryValues[ x ].push( 0 );
          }
        }
      }
  # environment:
  #   extends: http://vwf.example.com/node3.vwf
  #   source: assets/3d/Terrain/scene.dae
  #   type: model/vnd.collada+xml
methods:
  loadObject:
    parameters:
      - path
    body: |
      var objDef = {
        "extends": "http://vwf.example.com/node3.vwf",
        "source": path,
        "type": "model/vnd.collada+xml"
      }
      this.children.create( "object_" + this.objCount++, objDef );
  createGridDisplay:
  removeGridDisplay:
scripts: 
  - source: editor/scene.js